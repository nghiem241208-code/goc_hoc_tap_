<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GÃ³c há»c táº­p cá»§a tÃ´i</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #0e1726;
    --card: #1a2333;
    --accent1: #ff9f43; /* MÃ u cam, dÃ¹ng cho button pop-up/nháº¥n máº¡nh */
    --accent2: #00b4d8; /* MÃ u xanh, dÃ¹ng cho tiÃªu Ä‘á»/liÃªn káº¿t */
    --text: #e6eef8;
    --muted: #b7c8e1;
    
    /* Variables tá»« widget nháº¯c nhá»Ÿ gá»‘c, Ä‘á»•i tÃªn Ä‘á»ƒ trÃ¡nh trÃ¹ng */
    --rem-accent: #f39c12; 
    --rem-accent2: #3498db; 
  }
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body {
    font-family: 'Poppins', sans-serif;
    background: var(--bg);
    color: var(--text);
    min-height: 100vh;
    overflow-x: hidden;
  }
  section {
    display: none;
    opacity: 0;
    transition: opacity 0.5s ease, transform 0.5s ease;
    transform: translateY(20px);
    padding: 20px;
  }
  section.active {
    display: block;
    opacity: 1;
    transform: translateY(0);
  }
  header { margin-bottom: 25px; text-align: center; }
  header h1 { color: var(--accent2); font-size: 2.5rem; margin-bottom: 5px;}
  .card-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 20px;
    max-width: 900px;
    margin: 0 auto;
  }
  .card {
    background: var(--card);
    padding: 20px;
    border-radius: 12px;
    cursor: pointer;
    transition: 0.3s;
    text-align: center;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
  }
  .card:hover { transform: scale(1.02); background: #253143; }
  .icon { font-size: 2.5rem; margin-bottom: 10px; }
  .card h2 { color: var(--accent1); font-size: 1.4rem; margin-bottom: 5px; }
  .card p { color: var(--muted); font-size: 0.9rem; }
  .back-btn {
    display: block;
    margin: 30px auto 0;
    width: max-content;
    padding: 10px 20px;
    background: var(--accent1);
    color: var(--bg);
    text-decoration: none;
    border-radius: 8px;
    font-weight: 600;
    transition: 0.3s;
  }
  .back-btn:hover { opacity: 0.9; }

  /* --- CSS cho Chuyá»ƒn Ä‘á»•i Trang (Äá»“ng nháº¥t) --- */
  #page-transition-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: var(--bg, #0e1726);
    opacity: 0;
    visibility: hidden;
    z-index: 9999;
    transition: opacity 0.4s ease-in-out, visibility 0.4s ease-in-out;
  }
  body.is-leaving #page-transition-overlay {
    opacity: 1;
    visibility: visible;
  }

  /* --- CSS cho Mindmap --- */
  .filebtn {
      background: var(--accent2); /* MÃ u xanh */
      border: none;
      color: var(--bg);
      padding: 8px 12px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      display: inline-block;
  }
  #mindmapList {
      display: grid;
      gap: 15px;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      max-width: 800px;
      margin: 20px auto;
      padding: 0 10px;
      text-align: left;
  }
  .mindmap-card {
    background: var(--card); 
    padding: 16px; 
    border-radius: 12px; 
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    transition: 0.3s;
  }
  .mindmap-card:hover {
    box-shadow: 0 0 0 2px var(--accent1);
  }
</style>
</head>
<body>

<section id="home" class="active">
  <header>
    <h1>ğŸ‘‹ Trang chá»§ GÃ³c há»c táº­p</h1>
    <p>Chá»n khu vá»±c báº¡n muá»‘n truy cáº­p.</p>
  </header>
  <div class="card-container">
    <div class="card" onclick="showSection('study')">
      <div class="icon">ğŸ“š</div>
      <h2>GÃ³c há»c táº­p</h2>
      <p>TÃ i liá»‡u há»c, bÃ i táº­p tráº¯c nghiá»‡m cÃ¡c mÃ´n</p>
    </div>
    <div class="card" onclick="showSection('relax')">
      <div class="icon">ğŸ§</div>
      <h2>GÃ³c thÆ° giÃ£n</h2>
      <p>TrÃ² chÆ¡i vÃ  trÃ¬nh phÃ¡t nháº¡c</p>
    </div>
  </div>
</section>

<section id="study">
  <header>
    <h1>ğŸ“š GÃ³c há»c táº­p</h1>
    <p>Chá»n mÃ´n há»c lá»›p 11 báº¡n muá»‘n Ã´n luyá»‡n.</p>
  </header>
  <div class="card-container">
    <div class="card" onclick="navigate('toan11.html')">
      <div class="icon">ğŸ“</div>
      <h2>ToÃ¡n há»c 11</h2>
      <p>Äáº¡i sá»‘ & HÃ¬nh há»c</p>
    </div>
    <div class="card" onclick="navigate('ly11.html')">
      <div class="icon">âš›ï¸</div>
      <h2>Váº­t LÃ½ 11</h2>
      <p>Luyá»‡n táº­p tráº¯c nghiá»‡m vÃ  xem láº¡i kiáº¿n thá»©c</p>
    </div>
    <div class="card" onclick="navigate('hoa11.html')">
      <div class="icon">ğŸ§ª</div>
      <h2>HÃ³a há»c 11</h2>
      <p>ChÆ°Æ¡ng trÃ¬nh HÃ³a há»c há»¯u cÆ¡ vÃ  vÃ´ cÆ¡</p>
    </div>
    <div class="card" onclick="navigate('van11.html')">
      <div class="icon">ğŸ“–</div>
      <h2>Ngá»¯ VÄƒn 11</h2>
      <p>TÃ¡c pháº©m, luyá»‡n táº­p vÃ  lÆ°u trá»¯ tÃ i liá»‡u</p>
    </div>
    <div class="card" onclick="navigate('tienganh11.html')">
      <div class="icon">ğŸ‡¬ğŸ‡§</div>
      <h2>Tiáº¿ng Anh 11</h2>
      <p>Ngá»¯ phÃ¡p, tá»« vá»±ng vÃ  bÃ i Ä‘á»c</p>
    </div>
    <div class="card" onclick="window.open('https://classroom.google.com', '_blank')">
      <div class="icon">ğŸ§‘â€ğŸ«</div>
      <h2>Google Classroom</h2>
      <p>Káº¿t ná»‘i lá»›p há»c vÃ  giÃ¡o viÃªn dá»… dÃ ng</p>
    </div>
    <div class="card" onclick="showSection('links')">
      <div class="icon">ğŸŒ</div>
      <h2>LiÃªn káº¿t</h2>
      <p>Truy cáº­p nhanh cÃ¡c trang web há»c táº­p há»¯u Ã­ch</p>
    </div>
    <div class="card" onclick="navigate('mindmap_grid.html')">
      <div class="icon">ğŸ§ </div>
      <h2>SÆ¡ Ä‘á»“ TÆ° duy</h2>
      <p>LÆ°u trá»¯ cÃ¡c sÆ¡ Ä‘á»“, tÃ i liá»‡u vÃ  ghi chÃº</p>
    </div>
   
  </div>
  
  <a href="#" class="back-btn" onclick="showSection('home')">â† Quay láº¡i trang chá»§</a>
</section>
  
<section id="relax">
  <header>
    <h1>ğŸ§ GÃ³c thÆ° giÃ£n</h1>
    <p>Nghe nháº¡c vÃ  trÃ² chÆ¡i há»c táº­p.</p>
  </header>
  <div class="card-container">
    <div class="card" onclick="navigate('trochoi.html')">
       <div class="icon">ğŸ®</div>
       <h2>TrÃ² chÆ¡i há»c táº­p</h2>
       <p>ChÆ¡i Snake Quiz Ä‘á»ƒ Ã´n láº¡i kiáº¿n thá»©c lá»›p 11</p>
    </div>
    <div class="card" onclick="navigate('nhac.html')">
       <div class="icon">ğŸµ</div>
       <h2>Nghe nháº¡c thÆ° giÃ£n</h2>
       <p>Má»Ÿ trÃ¬nh phÃ¡t nháº¡c Ä‘á»ƒ nghe MP3 yÃªu thÃ­ch</p>
    </div>
   
  </div>
  <a href="#" class="back-btn" onclick="showSection('home')">â† Quay láº¡i trang chá»§</a>
</section>
<section id="links">
  <header>
    <h1>ğŸŒ LiÃªn káº¿t há»c táº­p</h1>
    <p>Chá»n trang web báº¡n muá»‘n truy cáº­p</p>
  </header>

  <div class="card-container">
    <div class="card" onclick="window.open('https://hocmai.vn', '_blank')">
      <div class="icon">ğŸ“˜</div>
      <h2>HOCMAI</h2>
      <p>Ná»n táº£ng há»c trá»±c tuyáº¿n phá»• biáº¿n</p>
    </div>
    <div class="card" onclick="window.open('https://azota.vn', '_blank')">
      <div class="icon">ğŸ§¾</div>
      <h2>Azota</h2>
      <p>Ná»™p bÃ i, lÃ m bÃ i kiá»ƒm tra trá»±c tuyáº¿n</p>
    </div>
    <div class="card" onclick="window.open('https://vietjack.com', '_blank')">
      <div class="icon">ğŸ“š</div>
      <h2>VietJack</h2>
      <p>Tá»•ng há»£p bÃ i giáº£ng vÃ  lá»i giáº£i SGK</p>
    </div>
    <div class="card" onclick="window.open('https://quizizz.com', '_blank')">
      <div class="icon">ğŸ®</div>
      <h2>Quizizz</h2>
      <p>LÃ m tráº¯c nghiá»‡m vÃ  trÃ² chÆ¡i há»c táº­p</p>
    </div>
  </div>

  <a href="#" class="back-btn" onclick="showSection('study')">â† Quay láº¡i GÃ³c há»c táº­p</a>
</section>

<section id="mindmap">
  <header>
    <h1>ğŸ§  SÆ¡ Ä‘á»“ TÆ° duy & Ghi chÃº</h1>
    <p>LÆ°u trá»¯ áº£nh, PDF vÃ  táº¡o cÃ¡c Ã´ ghi chÃº (lÆ°u cá»¥c bá»™ trÃªn trÃ¬nh duyá»‡t).</p>
  </header>
  
  <div class="controls" style="max-width: 800px; margin: 20px auto; display: flex; gap: 10px; justify-content: center; flex-wrap: wrap;">
    <label class="filebtn">
        Táº£i sÆ¡ Ä‘á»“ má»›i (.jpg, .png, .pdf, v.v.)
        <input type="file" id="mindmapInput" style="display: none;" accept="image/*, application/pdf" multiple>
    </label>
    <button class="filebtn" onclick="createMindmapNote()" style="background: var(--accent1); color: var(--bg);">â• Táº¡o Ghi chÃº/Ã” má»›i</button>
    <button class="ghost" id="mindmapClearAllBtn" style="color: #e74c3c; border: 1px solid #e74c3c; background: transparent; padding: 8px 12px; border-radius: 6px; cursor: pointer;">XÃ³a toÃ n bá»™</button>
  </div>

  <div id="mindmapList">
    </div>

  <a href="#" class="back-btn" onclick="showSection('home')">â† Quay láº¡i trang chá»§</a>
</section>
<div id="page-transition-overlay"></div>

<script>
  // ------------------ CHá»¨C NÄ‚NG CHUYá»‚N Äá»”I SECTION Ná»˜I Bá»˜ (ÄÃƒ Sá»¬A Äá»”I) ------------------
  
  // HÃ m hiá»ƒn thá»‹ section, Ä‘Ã£ tÃ­ch há»£p logic Mindmap
  function showSection(id) {
    // 1. Hook: Náº¿u lÃ  Mindmap, gá»i hÃ m render dá»¯ liá»‡u
    if (id === 'mindmap') {
        renderMindmapList();
    }
    
    // 2. Logic chuyá»ƒn Ä‘á»•i mÆ°á»£t mÃ  (Fade/Slide)
    document.querySelectorAll('section').forEach(s => {
      s.classList.remove('active');
      s.style.opacity = 0;
      s.style.transform = 'translateY(20px)';
    });
    const target = document.getElementById(id);
    if (target) {
      target.style.transform = 'translateY(0)';
      target.classList.add('active');
      // Timeout nhá» Ä‘á»ƒ Ä‘áº£m báº£o transition hoáº¡t Ä‘á»™ng
      setTimeout(() => { target.style.opacity = 1; }, 10);
    }
  }
  
  // Khá»Ÿi cháº¡y máº·c Ä‘á»‹nh
  showSection('home');


  // ------------------ CHá»¨C NÄ‚NG CHUYá»‚N Äá»”I TRANG BÃŠN NGOÃ€I (Äá»’NG NHáº¤T) ------------------

  // HÃ m má»›i Ä‘á»ƒ xá»­ lÃ½ chuyá»ƒn trang cÃ³ hiá»‡u á»©ng (Fade Out)
  function navigate(url) {
    // 1. KÃ­ch hoáº¡t hiá»‡u á»©ng fade-out/overlay (400ms)
    document.body.classList.add('is-leaving');
    
    // 2. Chá» 400ms rá»“i chuyá»ƒn trang
    setTimeout(() => {
      window.location.href = url;
    }, 400); 
  }

  // Xá»­ lÃ½ hiá»‡u á»©ng Fade In khi trang Má»šI Táº¢I XONG
  document.addEventListener('DOMContentLoaded', () => {
    // Äáº£m báº£o lá»›p phá»§ chuyá»ƒn trang biáº¿n máº¥t (Fade In)
    document.body.classList.remove('is-leaving');
  });

  // ------------------ LOGIC SÆ  Äá»’ TÆ¯ DUY & GHI CHÃš (ÄÃƒ Cáº¬P NHáº¬T) ------------------

  const MINDMAP_KEY = 'mindmap_files_v2'; // DÃ¹ng key má»›i Ä‘á»ƒ trÃ¡nh xung Ä‘á»™t
  let mindmapFiles = JSON.parse(localStorage.getItem(MINDMAP_KEY) || '[]');

  // 1. HÃ m táº¡o Ghi chÃº má»›i
  window.createMindmapNote = function() {
      const title = prompt("Nháº­p tiÃªu Ä‘á» cho Ã´ ghi chÃº má»›i:");
      if (!title || title.trim() === "") return;

      mindmapFiles.push({
          type: 'note',
          name: title.trim(),
          text: "Nháº¥p vÃ o nÃºt 'Sá»­a' Ä‘á»ƒ thÃªm ná»™i dung ghi chÃº...",
          timestamp: Date.now()
      });
      localStorage.setItem(MINDMAP_KEY, JSON.stringify(mindmapFiles));
      renderMindmapList();
  }

  // 2. HÃ m chá»‰nh sá»­a Ghi chÃº
  window.editMindmapNote = function(index) {
      const currentNote = mindmapFiles[index];
      if (currentNote.type !== 'note') return;

      const newText = prompt(`Chá»‰nh sá»­a ná»™i dung ghi chÃº:`, currentNote.text);

      if (newText !== null) { // Kiá»ƒm tra náº¿u ngÆ°á»i dÃ¹ng khÃ´ng báº¥m Cancel
          const newTitle = prompt("Chá»‰nh sá»­a tiÃªu Ä‘á»:", currentNote.name);
          if (newTitle === null) return; 

          currentNote.name = newTitle.trim() || currentNote.name;
          currentNote.text = newText;
          localStorage.setItem(MINDMAP_KEY, JSON.stringify(mindmapFiles));
          renderMindmapList();
      }
  }

  // 3. HÃ m hiá»ƒn thá»‹ danh sÃ¡ch sÆ¡ Ä‘á»“ tÆ° duy (ÄÃƒ Sá»¬A Äá»”I)
  function renderMindmapList() {
      const listEl = document.getElementById('mindmapList');
      if (!listEl) return; 

      listEl.innerHTML = '';
      
      // Äáº£o ngÆ°á»£c array Ä‘á»ƒ hiá»ƒn thá»‹ má»›i nháº¥t trÆ°á»›c
      mindmapFiles.slice().reverse().forEach((f) => {
          // TÃ¬m index gá»‘c Ä‘á»ƒ xÃ³a/sá»­a chÃ­nh xÃ¡c
          const originalIndex = mindmapFiles.findIndex(item => item.timestamp === f.timestamp);
          
          let cardContent = '';
          let controls = '';
          let icon = '';

          if (f.type === 'file') {
              icon = 'ğŸ–¼ï¸ ';
              cardContent = `
                  <p style="font-size: 0.9em; color: var(--muted); margin-bottom: 10px;">KÃ­ch thÆ°á»›c: ${Math.round(f.size / 1024)} KB</p>
              `;
              controls = `
                  <button class='btn' onclick="window.open('${f.url}', '_blank')" style="background: var(--accent1); color: var(--bg);">Xem</button>
              `;
          } else if (f.type === 'note') {
              icon = 'ğŸ“ ';
              cardContent = `
                  <p style="font-size: 0.9em; color: var(--muted); margin-bottom: 10px; min-height: 40px; overflow: hidden; text-overflow: ellipsis;">${f.text}</p>
              `;
              controls = `
                  <button class='btn' onclick='editMindmapNote(${originalIndex})' style="background: var(--accent1); color: var(--bg);">ğŸ“ Sá»­a</button>
              `;
          }
          
          const cardHtml = `
              <div class="mindmap-card">
                  <strong style="display: block; margin-bottom: 10px; color: var(--accent2); overflow: hidden; white-space: nowrap; text-overflow: ellipsis;">
                      ${icon}${f.name}
                  </strong> 
                  ${cardContent}
                  <div style='display: flex; gap: 10px; justify-content: flex-start;'>
                      ${controls}
                      <button class='ghost' onclick='deleteMindmapFile(${originalIndex})'>XÃ³a</button>
                  </div>
              </div>
          `;
          listEl.innerHTML += cardHtml;
      });

      if(mindmapFiles.length === 0) {
          listEl.innerHTML = `<p style="text-align: center; color: var(--muted); grid-column: 1 / -1;">ChÆ°a cÃ³ sÆ¡ Ä‘á»“ tÆ° duy/ghi chÃº nÃ o Ä‘Æ°á»£c lÆ°u trá»¯. HÃ£y táº£i lÃªn hoáº·c táº¡o má»›i!</p>`;
      }
  }

  // 4. HÃ m xÃ³a má»¥c (ÄÃƒ Sá»¬A Äá»”I Ä‘á»ƒ xá»­ lÃ½ cáº£ note vÃ  file)
  window.deleteMindmapFile = function(index) {
      if (!confirm("Báº¡n cÃ³ cháº¯c cháº¯n muá»‘n xÃ³a má»¥c nÃ y?")) return;
      
      // Giáº£i phÃ³ng bá»™ nhá»› cá»§a Blob URL náº¿u lÃ  file
      if (mindmapFiles[index] && mindmapFiles[index].type === 'file' && mindmapFiles[index].url.startsWith('blob:')) {
          URL.revokeObjectURL(mindmapFiles[index].url);
      }
      
      mindmapFiles.splice(index, 1);
      localStorage.setItem(MINDMAP_KEY, JSON.stringify(mindmapFiles));
      renderMindmapList();
  }


  // 5. Báº¯t sá»± kiá»‡n táº£i file (ÄÃƒ Sá»¬A Äá»”I Ä‘á»ƒ thÃªm type: 'file')
  document.addEventListener('DOMContentLoaded', () => {
      const inputEl = document.getElementById("mindmapInput");
      const clearBtn = document.getElementById("mindmapClearAllBtn");

      if(inputEl) {
          inputEl.addEventListener("change", (e) => {
              const newFiles = [...e.target.files];
              
              newFiles.forEach(f => {
                  const url = URL.createObjectURL(f);
                  mindmapFiles.push({
                      type: 'file', // ThÃªm type Ä‘á»ƒ phÃ¢n biá»‡t vá»›i ghi chÃº
                      name: f.name,
                      size: f.size,
                      url: url,
                      timestamp: Date.now()
                  });
              });
              
              localStorage.setItem(MINDMAP_KEY, JSON.stringify(mindmapFiles));
              renderMindmapList();
              e.target.value = null; 
          });
      }

      if(clearBtn) {
          clearBtn.addEventListener("click", () => {
              if (confirm("XÃ³a toÃ n bá»™ sÆ¡ Ä‘á»“ tÆ° duy/ghi chÃº Ä‘Ã£ lÆ°u? HÃ nh Ä‘á»™ng nÃ y khÃ´ng thá»ƒ hoÃ n tÃ¡c.")) {
                  mindmapFiles.forEach(f => {
                      if (f.type === 'file' && f.url.startsWith('blob:')) {
                          URL.revokeObjectURL(f.url);
                      }
                  });
                  
                  localStorage.removeItem(MINDMAP_KEY);
                  mindmapFiles = [];
                  renderMindmapList();
              }
          });
      }
  });

</script>

</body>
</html>


