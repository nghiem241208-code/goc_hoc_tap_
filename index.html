<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>G√≥c h·ªçc t·∫≠p c·ªßa t√¥i</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #0e1726;
    --card: #1a2333;
    --accent1: #ff9f43; /* M√†u cam, d√πng cho button pop-up/nh·∫•n m·∫°nh */
    --accent2: #00b4d8; /* M√†u xanh, d√πng cho ti√™u ƒë·ªÅ/li√™n k·∫øt */
    --text: #e6eef8;
    --muted: #b7c8e1;
    
    /* Variables t·ª´ widget nh·∫Øc nh·ªü g·ªëc, ƒë·ªïi t√™n ƒë·ªÉ tr√°nh tr√πng */
    --rem-accent: #f39c12; 
    --rem-accent2: #3498db; 
  }
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body {
    font-family: 'Poppins', sans-serif;
    background: var(--bg);
    color: var(--text);
    min-height: 100vh;
    overflow-x: hidden;
  }
  section {
    display: none;
    opacity: 0;
    transition: opacity 0.5s ease, transform 0.5s ease;
    transform: translateY(20px);
    padding: 20px;
  }
  section.active {
    display: block;
    opacity: 1;
    transform: translateY(0);
  }
  header { margin-bottom: 25px; text-align: center; }
  header h1 { color: var(--accent2); font-size: 2.5rem; margin-bottom: 5px;}
  .card-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 20px;
    max-width: 900px;
    margin: 0 auto;
  }
  .card {
    background: var(--card);
    padding: 20px;
    border-radius: 12px;
    cursor: pointer;
    transition: 0.3s;
    text-align: center;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
  }
  .card:hover { transform: scale(1.02); background: #253143; }
  .icon { font-size: 2.5rem; margin-bottom: 10px; }
  .card h2 { color: var(--accent1); font-size: 1.4rem; margin-bottom: 5px; }
  .card p { color: var(--muted); font-size: 0.9rem; }
  .back-btn {
    display: block;
    margin: 30px auto 0;
    width: max-content;
    padding: 10px 20px;
    background: var(--accent1);
    color: var(--bg);
    text-decoration: none;
    border-radius: 8px;
    font-weight: 600;
    transition: 0.3s;
  }
  .back-btn:hover { opacity: 0.9; }

  /* --- CSS cho Chuy·ªÉn ƒë·ªïi Trang (ƒê·ªìng nh·∫•t) --- */
  #page-transition-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: var(--bg, #0e1726);
    opacity: 0;
    visibility: hidden;
    z-index: 9999;
    transition: opacity 0.4s ease-in-out, visibility 0.4s ease-in-out;
  }
  body.is-leaving #page-transition-overlay {
    opacity: 1;
    visibility: visible;
  }

  /* --- CSS cho Mindmap --- */
  .filebtn {
      background: var(--accent2); /* M√†u xanh */
      border: none;
      color: var(--bg);
      padding: 8px 12px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      display: inline-block;
  }
  #mindmapList {
      display: grid;
      gap: 15px;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      max-width: 800px;
      margin: 20px auto;
      padding: 0 10px;
      text-align: left;
  }
  .mindmap-card {
    background: var(--card); 
    padding: 16px; 
    border-radius: 12px; 
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    transition: 0.3s;
  }
  .mindmap-card:hover {
    box-shadow: 0 0 0 2px var(--accent1);
  }
</style>
</head>
<body>

<section id="home" class="active">
  <header>
    <h1>üëã Trang ch·ªß G√≥c h·ªçc t·∫≠p</h1>
    <p>Ch·ªçn khu v·ª±c b·∫°n mu·ªën truy c·∫≠p.</p>
  </header>
  <div class="card-container">
    <div class="card" onclick="showSection('study')">
      <div class="icon">üìö</div>
      <h2>G√≥c h·ªçc t·∫≠p</h2>
      <p>T√†i li·ªáu h·ªçc, b√†i t·∫≠p tr·∫Øc nghi·ªám c√°c m√¥n</p>
    </div>
    <div class="card" onclick="showSection('relax')">
      <div class="icon">üéß</div>
      <h2>G√≥c th∆∞ gi√£n</h2>
      <p>Tr√≤ ch∆°i v√† tr√¨nh ph√°t nh·∫°c</p>
    </div>
  </div>
</section>

<section id="study">
  <header>
    <h1>üìö G√≥c h·ªçc t·∫≠p</h1>
    <p>Ch·ªçn m√¥n h·ªçc l·ªõp 11 b·∫°n mu·ªën √¥n luy·ªán.</p>
  </header>
  <div class="card-container">
    <div class="card" onclick="navigate('toan11.html')">
      <div class="icon">üìê</div>
      <h2>To√°n h·ªçc 11</h2>
      <p>ƒê·∫°i s·ªë & H√¨nh h·ªçc</p>
    </div>
    <div class="card" onclick="navigate('ly11.html')">
      <div class="icon">‚öõÔ∏è</div>
      <h2>V·∫≠t L√Ω 11</h2>
      <p>Luy·ªán t·∫≠p tr·∫Øc nghi·ªám v√† xem l·∫°i ki·∫øn th·ª©c</p>
    </div>
    <div class="card" onclick="navigate('hoa11.html')">
      <div class="icon">üß™</div>
      <h2>H√≥a h·ªçc 11</h2>
      <p>Ch∆∞∆°ng tr√¨nh H√≥a h·ªçc h·ªØu c∆° v√† v√¥ c∆°</p>
    </div>
    <div class="card" onclick="navigate('van11.html')">
      <div class="icon">üìñ</div>
      <h2>Ng·ªØ VƒÉn 11</h2>
      <p>T√°c ph·∫©m, luy·ªán t·∫≠p v√† l∆∞u tr·ªØ t√†i li·ªáu</p>
    </div>
    <div class="card" onclick="navigate('tienganh11.html')">
      <div class="icon">üá¨üáß</div>
      <h2>Ti·∫øng Anh 11</h2>
      <p>Ng·ªØ ph√°p, t·ª´ v·ª±ng v√† b√†i ƒë·ªçc</p>
    </div>
    <div class="card" onclick="window.open('https://classroom.google.com', '_blank')">
      <div class="icon">üßë‚Äçüè´</div>
      <h2>Google Classroom</h2>
      <p>K·∫øt n·ªëi l·ªõp h·ªçc v√† gi√°o vi√™n d·ªÖ d√†ng</p>
    </div>
    <div class="card" onclick="navigate('mindmap_grid.html')">
      <div class="icon">üß†</div>
      <h2>S∆° ƒë·ªì T∆∞ duy</h2>
      <p>L∆∞u tr·ªØ c√°c s∆° ƒë·ªì, t√†i li·ªáu v√† ghi ch√∫</p>
    </div>
   
  </div>
  
  <a href="#" class="back-btn" onclick="showSection('home')">‚Üê Quay l·∫°i trang ch·ªß</a>
</section>
  
<section id="relax">
  <header>
    <h1>üéß G√≥c th∆∞ gi√£n</h1>
    <p>Nghe nh·∫°c v√† tr√≤ ch∆°i h·ªçc t·∫≠p.</p>
  </header>
  <div class="card-container">
    <div class="card" onclick="navigate('trochoi.html')">
       <div class="icon">üéÆ</div>
       <h2>Tr√≤ ch∆°i h·ªçc t·∫≠p</h2>
       <p>Ch∆°i Snake Quiz ƒë·ªÉ √¥n l·∫°i ki·∫øn th·ª©c l·ªõp 11</p>
    </div>
    <div class="card" onclick="navigate('nhac.html')">
       <div class="icon">üéµ</div>
       <h2>Nghe nh·∫°c th∆∞ gi√£n</h2>
       <p>M·ªü tr√¨nh ph√°t nh·∫°c ƒë·ªÉ nghe MP3 y√™u th√≠ch</p>
    </div>
   
  </div>
  <a href="#" class="back-btn" onclick="showSection('home')">‚Üê Quay l·∫°i trang ch·ªß</a>
</section>

<section id="mindmap">
  <header>
    <h1>üß† S∆° ƒë·ªì T∆∞ duy & Ghi ch√∫</h1>
    <p>L∆∞u tr·ªØ ·∫£nh, PDF v√† t·∫°o c√°c √¥ ghi ch√∫ (l∆∞u c·ª•c b·ªô tr√™n tr√¨nh duy·ªát).</p>
  </header>
  
  <div class="controls" style="max-width: 800px; margin: 20px auto; display: flex; gap: 10px; justify-content: center; flex-wrap: wrap;">
    <label class="filebtn">
        T·∫£i s∆° ƒë·ªì m·ªõi (.jpg, .png, .pdf, v.v.)
        <input type="file" id="mindmapInput" style="display: none;" accept="image/*, application/pdf" multiple>
    </label>
    <button class="filebtn" onclick="createMindmapNote()" style="background: var(--accent1); color: var(--bg);">‚ûï T·∫°o Ghi ch√∫/√î m·ªõi</button>
    <button class="ghost" id="mindmapClearAllBtn" style="color: #e74c3c; border: 1px solid #e74c3c; background: transparent; padding: 8px 12px; border-radius: 6px; cursor: pointer;">X√≥a to√†n b·ªô</button>
  </div>

  <div id="mindmapList">
    </div>

  <a href="#" class="back-btn" onclick="showSection('home')">‚Üê Quay l·∫°i trang ch·ªß</a>
</section>
<div id="page-transition-overlay"></div>

<script>
  // ------------------ CH·ª®C NƒÇNG CHUY·ªÇN ƒê·ªîI SECTION N·ªòI B·ªò (ƒê√É S·ª¨A ƒê·ªîI) ------------------
  
  // H√†m hi·ªÉn th·ªã section, ƒë√£ t√≠ch h·ª£p logic Mindmap
  function showSection(id) {
    // 1. Hook: N·∫øu l√† Mindmap, g·ªçi h√†m render d·ªØ li·ªáu
    if (id === 'mindmap') {
        renderMindmapList();
    }
    
    // 2. Logic chuy·ªÉn ƒë·ªïi m∆∞·ª£t m√† (Fade/Slide)
    document.querySelectorAll('section').forEach(s => {
      s.classList.remove('active');
      s.style.opacity = 0;
      s.style.transform = 'translateY(20px)';
    });
    const target = document.getElementById(id);
    if (target) {
      target.style.transform = 'translateY(0)';
      target.classList.add('active');
      // Timeout nh·ªè ƒë·ªÉ ƒë·∫£m b·∫£o transition ho·∫°t ƒë·ªông
      setTimeout(() => { target.style.opacity = 1; }, 10);
    }
  }
  
  // Kh·ªüi ch·∫°y m·∫∑c ƒë·ªãnh
  showSection('home');


  // ------------------ CH·ª®C NƒÇNG CHUY·ªÇN ƒê·ªîI TRANG B√äN NGO√ÄI (ƒê·ªíNG NH·∫§T) ------------------

  // H√†m m·ªõi ƒë·ªÉ x·ª≠ l√Ω chuy·ªÉn trang c√≥ hi·ªáu ·ª©ng (Fade Out)
  function navigate(url) {
    // 1. K√≠ch ho·∫°t hi·ªáu ·ª©ng fade-out/overlay (400ms)
    document.body.classList.add('is-leaving');
    
    // 2. Ch·ªù 400ms r·ªìi chuy·ªÉn trang
    setTimeout(() => {
      window.location.href = url;
    }, 400); 
  }

  // X·ª≠ l√Ω hi·ªáu ·ª©ng Fade In khi trang M·ªöI T·∫¢I XONG
  document.addEventListener('DOMContentLoaded', () => {
    // ƒê·∫£m b·∫£o l·ªõp ph·ªß chuy·ªÉn trang bi·∫øn m·∫•t (Fade In)
    document.body.classList.remove('is-leaving');
  });

  // ------------------ LOGIC S∆† ƒê·ªí T∆Ø DUY & GHI CH√ö (ƒê√É C·∫¨P NH·∫¨T) ------------------

  const MINDMAP_KEY = 'mindmap_files_v2'; // D√πng key m·ªõi ƒë·ªÉ tr√°nh xung ƒë·ªôt
  let mindmapFiles = JSON.parse(localStorage.getItem(MINDMAP_KEY) || '[]');

  // 1. H√†m t·∫°o Ghi ch√∫ m·ªõi
  window.createMindmapNote = function() {
      const title = prompt("Nh·∫≠p ti√™u ƒë·ªÅ cho √¥ ghi ch√∫ m·ªõi:");
      if (!title || title.trim() === "") return;

      mindmapFiles.push({
          type: 'note',
          name: title.trim(),
          text: "Nh·∫•p v√†o n√∫t 'S·ª≠a' ƒë·ªÉ th√™m n·ªôi dung ghi ch√∫...",
          timestamp: Date.now()
      });
      localStorage.setItem(MINDMAP_KEY, JSON.stringify(mindmapFiles));
      renderMindmapList();
  }

  // 2. H√†m ch·ªânh s·ª≠a Ghi ch√∫
  window.editMindmapNote = function(index) {
      const currentNote = mindmapFiles[index];
      if (currentNote.type !== 'note') return;

      const newText = prompt(`Ch·ªânh s·ª≠a n·ªôi dung ghi ch√∫:`, currentNote.text);

      if (newText !== null) { // Ki·ªÉm tra n·∫øu ng∆∞·ªùi d√πng kh√¥ng b·∫•m Cancel
          const newTitle = prompt("Ch·ªânh s·ª≠a ti√™u ƒë·ªÅ:", currentNote.name);
          if (newTitle === null) return; 

          currentNote.name = newTitle.trim() || currentNote.name;
          currentNote.text = newText;
          localStorage.setItem(MINDMAP_KEY, JSON.stringify(mindmapFiles));
          renderMindmapList();
      }
  }

  // 3. H√†m hi·ªÉn th·ªã danh s√°ch s∆° ƒë·ªì t∆∞ duy (ƒê√É S·ª¨A ƒê·ªîI)
  function renderMindmapList() {
      const listEl = document.getElementById('mindmapList');
      if (!listEl) return; 

      listEl.innerHTML = '';
      
      // ƒê·∫£o ng∆∞·ª£c array ƒë·ªÉ hi·ªÉn th·ªã m·ªõi nh·∫•t tr∆∞·ªõc
      mindmapFiles.slice().reverse().forEach((f) => {
          // T√¨m index g·ªëc ƒë·ªÉ x√≥a/s·ª≠a ch√≠nh x√°c
          const originalIndex = mindmapFiles.findIndex(item => item.timestamp === f.timestamp);
          
          let cardContent = '';
          let controls = '';
          let icon = '';

          if (f.type === 'file') {
              icon = 'üñºÔ∏è ';
              cardContent = `
                  <p style="font-size: 0.9em; color: var(--muted); margin-bottom: 10px;">K√≠ch th∆∞·ªõc: ${Math.round(f.size / 1024)} KB</p>
              `;
              controls = `
                  <button class='btn' onclick="window.open('${f.url}', '_blank')" style="background: var(--accent1); color: var(--bg);">Xem</button>
              `;
          } else if (f.type === 'note') {
              icon = 'üìù ';
              cardContent = `
                  <p style="font-size: 0.9em; color: var(--muted); margin-bottom: 10px; min-height: 40px; overflow: hidden; text-overflow: ellipsis;">${f.text}</p>
              `;
              controls = `
                  <button class='btn' onclick='editMindmapNote(${originalIndex})' style="background: var(--accent1); color: var(--bg);">üìù S·ª≠a</button>
              `;
          }
          
          const cardHtml = `
              <div class="mindmap-card">
                  <strong style="display: block; margin-bottom: 10px; color: var(--accent2); overflow: hidden; white-space: nowrap; text-overflow: ellipsis;">
                      ${icon}${f.name}
                  </strong> 
                  ${cardContent}
                  <div style='display: flex; gap: 10px; justify-content: flex-start;'>
                      ${controls}
                      <button class='ghost' onclick='deleteMindmapFile(${originalIndex})'>X√≥a</button>
                  </div>
              </div>
          `;
          listEl.innerHTML += cardHtml;
      });

      if(mindmapFiles.length === 0) {
          listEl.innerHTML = `<p style="text-align: center; color: var(--muted); grid-column: 1 / -1;">Ch∆∞a c√≥ s∆° ƒë·ªì t∆∞ duy/ghi ch√∫ n√†o ƒë∆∞·ª£c l∆∞u tr·ªØ. H√£y t·∫£i l√™n ho·∫∑c t·∫°o m·ªõi!</p>`;
      }
  }

  // 4. H√†m x√≥a m·ª•c (ƒê√É S·ª¨A ƒê·ªîI ƒë·ªÉ x·ª≠ l√Ω c·∫£ note v√† file)
  window.deleteMindmapFile = function(index) {
      if (!confirm("B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a m·ª•c n√†y?")) return;
      
      // Gi·∫£i ph√≥ng b·ªô nh·ªõ c·ªßa Blob URL n·∫øu l√† file
      if (mindmapFiles[index] && mindmapFiles[index].type === 'file' && mindmapFiles[index].url.startsWith('blob:')) {
          URL.revokeObjectURL(mindmapFiles[index].url);
      }
      
      mindmapFiles.splice(index, 1);
      localStorage.setItem(MINDMAP_KEY, JSON.stringify(mindmapFiles));
      renderMindmapList();
  }


  // 5. B·∫Øt s·ª± ki·ªán t·∫£i file (ƒê√É S·ª¨A ƒê·ªîI ƒë·ªÉ th√™m type: 'file')
  document.addEventListener('DOMContentLoaded', () => {
      const inputEl = document.getElementById("mindmapInput");
      const clearBtn = document.getElementById("mindmapClearAllBtn");

      if(inputEl) {
          inputEl.addEventListener("change", (e) => {
              const newFiles = [...e.target.files];
              
              newFiles.forEach(f => {
                  const url = URL.createObjectURL(f);
                  mindmapFiles.push({
                      type: 'file', // Th√™m type ƒë·ªÉ ph√¢n bi·ªát v·ªõi ghi ch√∫
                      name: f.name,
                      size: f.size,
                      url: url,
                      timestamp: Date.now()
                  });
              });
              
              localStorage.setItem(MINDMAP_KEY, JSON.stringify(mindmapFiles));
              renderMindmapList();
              e.target.value = null; 
          });
      }

      if(clearBtn) {
          clearBtn.addEventListener("click", () => {
              if (confirm("X√≥a to√†n b·ªô s∆° ƒë·ªì t∆∞ duy/ghi ch√∫ ƒë√£ l∆∞u? H√†nh ƒë·ªông n√†y kh√¥ng th·ªÉ ho√†n t√°c.")) {
                  mindmapFiles.forEach(f => {
                      if (f.type === 'file' && f.url.startsWith('blob:')) {
                          URL.revokeObjectURL(f.url);
                      }
                  });
                  
                  localStorage.removeItem(MINDMAP_KEY);
                  mindmapFiles = [];
                  renderMindmapList();
              }
          });
      }
  });

</script>

</body>
</html>